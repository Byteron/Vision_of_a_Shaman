#textdomain wesnoth-voas

[scenario]
    id=07a_battle_of_sunhold
    name= _ "Battle of Sunhold"
    map_data="{~add-ons/Vision_of_a_Shaman/maps/chapter_02/07a_battle_of_sunhold.map}"
    next_scenario=07b_battle_of_lakeshore

    random_start_time=no
    allow_new_game=no
    experience_modifier=100
    force_lock_settings=yes

    {TURNS 60 60 60}
    {DEFAULT_SCHEDULE}
 
    # S T O R Y
    
    # P R E S T A R T
    
    [event]
        name=prestart
        
        [objectives]
            [objective]
                description= _ "Defeat Silniel"
                condition=win
            	show_turn_counter=yes
            [/objective]
            [objective]
                description= _ "Death of Mahun"
                condition=lose
            [/objective]
            [objective]
                description= _ "Death of Aela"
                condition=lose
            [/objective]
            [objective]
                description= _ "Death of Gwaba"
                condition=lose
            [/objective]

            {TURNS_RUN_OUT}
            {IS_LAST_SCENARIO}
        [/objectives]
    [/event]
    
    # S I D E _ C O N F I G U R A T I O N 
    
#define SINGLEPLAYER_GOLD
    {GOLD 100 100 100}
#enddef

#define MULTIPLAYER_GOLD
    {GOLD 50 50 50}
#enddef

    # SIDE 1
    [side]
        side=1
        save_id=mahun
        color=blue
        {PLAYABLE}
        {CHARACTER_MAHUN}
        {FLAG_VARIANT long}

#ifndef MULTIPLAYER
        recruit=Thelian Hunter, Thelian Warrior, Thelian Deer Rider, Thelian Feral
        {SINGLEPLAYER_GOLD}  
#else
        recruit=Thelian Hunter, Thelian Warrior, Thelian Feral
        {MULTIPLAYER_GOLD}
#endif
    [/side]
    
    # SIDE 2
    {MP_SIDE 2 (
        save_id=gwaba
        color=red
        {PLAYABLE}
        {CHARACTER_GWABA}
        {FLAG_VARIANT ragged}
        recruit=Goblin Spearman, Orcish Grunt, Orcish Archer, Orcish Assassin
        {GOLD 150 150 150}
    )}
	
	{STARTING_VILLAGES 1 4}
	
	# SIDE 3
    [side]
        side=3
        controller=ai
        {GOLD 260 300 340}
        {INCOME 12 8 4}
        team_name=Enemy
        user_team_name="Silniel"
        {FLAG_VARIANT wood-elvish}
		{CHARACTER_SILNIEL}
		
#ifdef HARD
        recruit=Elvish Fighter, Elvish Hero, Elvish Archer, Elvish Shaman, Elvish Druid, Elvish Rider
#else
        recruit=Elvish Fighter, Elvish Archer, Elvish Shaman, Elvish Scout, Elvish Rider
#endif

        [ai]
            {AI_SAVE_GOLD_DEFAULT}
            caution=0.8
        [/ai]
    [/side]
    
    {STARTING_VILLAGES 7 8}
    
    # SIDE 4
    [side]
        side=4
        controller=ai
        {GOLD 180 220 260}
        {INCOME 12 8 4}
        team_name=Enemy
        user_team_name="Eloar"
        {FLAG_VARIANT wood-elvish}
		{CHARACTER_ELOAR}
		
#ifdef HARD
        recruit=Elvish Fighter, Elvish Hero, Elvish Archer, Elvish Shaman, Elvish Druid, Elvish Rider
#else
        recruit=Elvish Fighter, Elvish Archer, Elvish Shaman, Elvish Scout, Elvish Rider
#endif

        [ai]
            {AI_SAVE_GOLD_DEFAULT}
            caution=0.8
        [/ai]
    [/side]
   
   # SIDE 5
    [side]
        side=5
        controller=ai
        {GOLD 180 220 260}
        {INCOME 12 8 4}
        team_name=Enemy
        user_team_name="Avaine"
        {FLAG_VARIANT wood-elvish}
		{CHARACTER_AVAINE}
		
#ifdef HARD
        recruit=Elvish Fighter, Elvish Hero, Elvish Archer, Elvish Shaman, Elvish Druid, Elvish Rider
#else
        recruit=Elvish Fighter, Elvish Archer, Elvish Shaman, Elvish Scout, Elvish Rider
#endif

        [ai]
            {AI_SAVE_GOLD_DEFAULT}
            caution=0.8
        [/ai]
    [/side]
    # P R E D I A L O Q U E
    [event]
        name=start
        
        [recall]
        	id=Mahun
        [/recall]
        
        [recall]
        	id=Aela
        [/recall]
        
        [recall]
        	id=Hawk
        [/recall]
    [/event]
   
    
    # V I C T O R I E S
    
    [event]
    	name=victory
    	[endlevel]
            result=victory
            carryover_report=no
            save=no
        [/endlevel]
    [/event]
    
    # D E F E A T S 
    
    # HENNAK DIES
    [event]
    	name=die
    	[filter]
    		id=Hennak
    	[/filter]
    	[endlevel]
    		result=defeat
    	[/endlevel]
    [/event]
    
    # Mahun DIES
    [event]
    	name=die
    	[filter]
    		id=Mahun
    	[/filter]
    	[endlevel]
    		result=defeat
    	[/endlevel]
    [/event]
    
    # AELA DIES
    [event]
    	name=die
    	[filter]
    		id=Aela
    	[/filter]
    	[endlevel]
    		result=defeat
    	[/endlevel]
    [/event]

    # MORDIN DIES
    [event]
    	name=die
    	[filter]
    		id=Mordin
    	[/filter]
    	[endlevel]
    		result=defeat
    	[/endlevel]
    [/event]

    # GRAUGH DIES
    [event]
    	name=die
    	[filter]
    		id=Graugh
    	[/filter]
    	[endlevel]
    		result=defeat
    	[/endlevel]
    [/event]
    
    # TIME OVER
    [event]
    	name=time over
    	
    	[endlevel]
    		result=defeat
    	[/endlevel]
    [/event]
    
    {VOAS_II_LAST_BREATHS}
[/scenario]